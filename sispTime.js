//SISP sessions
var sess1Beg = new Date(2018, 8, 22, 12, 30);
var sess1End = new Date(2018, 8, 22, 14, 40);

var sess2Beg = new Date(2018, 8, 26, 8, 40);
var sess2End = new Date(2018, 8, 26, 8, 50);

var sess3Beg = new Date(2018, 8, 26, 11, 50);
var sess3End = new Date(2018, 8, 26, 12, 15);

var sess4Beg = new Date(2018, 9, 1, 8, 40);
var sess4End = new Date(2018, 9, 1, 9, 00);

var sess5Beg = new Date(2018, 9, 15, 10, 30);
var sess5End = new Date(2018, 9, 15, 11, 45);

var sess6Beg = new Date(2018, 9, 15, 12, 00);
var sess6End = new Date(2018, 9, 15, 13, 00);

var sess7Beg = new Date(2018, 9, 16, 9, 00);
var sess7End = new Date(2018, 9, 16, 10, 40);

var sess8Beg = new Date(2018, 9, 16, 11, 20);
var sess8End = new Date(2018, 9, 16, 12, 30);

var sess9Beg = new Date(2018, 9, 16, 12, 40);
var sess9End = new Date(2018, 9, 16, 13, 40);

var sess10Beg = new Date(2018, 9, 19, 17, 40);
var sess10End = new Date(2018, 9, 19, 18, 15);

var sess11Beg = new Date(2018, 9, 20, 4, 15);
var sess11End = new Date(2018, 9, 20, 5, 15);

var sess12Beg = new Date(2018, 9, 20, 11, 30);
var sess12End = new Date(2018, 9, 20, 12, 50);

var sess13Beg = new Date(2018, 9, 20, 13, 35);
var sess13End = new Date(2018, 9, 20, 14, 05);

var sess14Beg = new Date(2018, 9, 20, 15, 30);
var sess14End = new Date(2018, 9, 20, 16, 35);

var sess15Beg = new Date(2018, 9, 20, 16, 45);
var sess15End = new Date(2018, 9, 20, 18, 20);

var sess16Beg = new Date(2018, 9, 20, 20, 00);
var sess16End = new Date(2018, 9, 20, 21, 45);

var sess17Beg = new Date(2018, 9, 28, 18, 00);
var sess17End = new Date(2018, 9, 28, 19, 20);

var sess18Beg = new Date(2018, 9, 28, 19, 45);
var sess18End = new Date(2018, 9, 28, 22, 00);

var sess19Beg = new Date(2018, 9, 29, 13, 30);
var sess19End = new Date(2018, 9, 29, 14, 20);

var sess20Beg = new Date(2018, 9, 30, 15, 50);
var sess20End = new Date(2018, 9, 30, 16, 20);

var sess21Beg = new Date(2018, 9, 31, 2, 05);
var sess21End = new Date(2018, 9, 31, 2, 25);

var sess22Beg = new Date(2018, 9, 31, 8, 00);
var sess22End = new Date(2018, 9, 31, 8, 45);

var sess23Beg = new Date(2018, 9, 31, 17, 00);
var sess23End = new Date(2018, 9, 31, 17, 40);

var sess24Beg = new Date(2018, 9, 31, 18, 05);
var sess24End = new Date(2018, 9, 31, 18, 35);

var sess25Beg = new Date(2018, 9, 31, 20, 40);
var sess25End = new Date(2018, 9, 31, 22, 20);

var sess26Beg = new Date(2018, 10, 6, 18, 30);
var sess26End = new Date(2018, 10, 6, 19, 30);

var sess27Beg = new Date(2018, 10, 7, 5, 00);
var sess27End = new Date(2018, 10, 7, 6, 15);

var sess28Beg = new Date(2018, 10, 7, 13, 30);
var sess28End = new Date(2018, 10, 7, 14, 00);

var sess29Beg = new Date(2018, 10, 7, 16, 15);
var sess29End = new Date(2018, 10, 7, 16, 40);

var sess30Beg = new Date(2018, 10, 7, 18, 00);
var sess30End = new Date(2018, 10, 7, 18, 15);

var sess31Beg = new Date(2018, 10, 7, 20, 50);
var sess31End = new Date(2018, 10, 7, 22, 00);

var sess32Beg = new Date(2018, 10, 8, 11, 30);
var sess32End = new Date(2018, 10, 8, 11, 50);

var sess33Beg = new Date(2018, 10, 8, 13, 40);
var sess33End = new Date(2018, 10, 8, 16, 55);

var sess34Beg = new Date(2018, 10, 8, 17, 15);
var sess34End = new Date(2018, 10, 8, 19, 15);

var sess35Beg = new Date(2018, 11, 21, 19, 20);
var sess35End = new Date(2018, 11, 21, 20, 25);

var sess36Beg = new Date(2018, 11, 21, 20, 30);
var sess36End = new Date(2018, 11, 21, 21, 15);

var sess37Beg = new Date(2018, 11, 21, 21, 25);
var sess37End = new Date(2018, 11, 21, 22, 15);

var sess38Beg = new Date(2018, 11, 22, 16, 20);
var sess38End = new Date(2018, 11, 22, 16, 50);

var sess39Beg = new Date(2018, 11, 22, 20, 10);
var sess39End = new Date(2018, 11, 23, 0, 25);

var sess40Beg = new Date(2018, 11, 23, 10, 50);
var sess40End = new Date(2018, 11, 23, 14, 15);

var sess41Beg = new Date(2018, 11, 23, 18, 40);
var sess41End = new Date(2018, 11, 23, 20, 10);

var sess42Beg = new Date(2018, 11, 29, 18, 00);
var sess42End = new Date(2018, 11, 29, 19, 00);

var sess43Beg = new Date(2018, 11, 29, 19, 10);
var sess43End = new Date(2018, 11, 29, 19, 45);

var sess44Beg = new Date(2018, 11, 31, 15, 25);
var sess44End = new Date(2018, 11, 31, 17, 45);

var sess45Beg = new Date(2019, 0, 3, 12, 30);
var sess45End = new Date(2019, 0, 3, 13, 15);

var sess46Beg = new Date(2019, 0, 4, 12, 30);
var sess46End = new Date(2019, 0, 4, 13, 30);

var sess47Beg = new Date(2019, 0, 4, 21, 20);
var sess47End = new Date(2019, 0, 4, 23, 25);

var sess48Beg = new Date(2019, 0, 4, 23, 30);
var sess48End = new Date(2019, 0, 5, 1, 00);

var sess49Beg = new Date(2019, 0, 6, 20, 00);
var sess49End = new Date(2019, 0, 7, 0, 30);

var sess50Beg = new Date(2019, 0, 7, 10, 15);
var sess50End = new Date(2019, 0, 7, 11, 00);

var sess51Beg = new Date(2019, 0, 7, 12, 50);
var sess51End = new Date(2019, 0, 7, 13, 30);

var sess52Beg = new Date(2019, 0, 7, 14, 10);
var sess52End = new Date(2019, 0, 7, 15, 45);

var sess53Beg = new Date(2019, 0, 11, 0, 10);
var sess53End = new Date(2019, 0, 11, 1, 40);

var sess54Beg = new Date(2019, 2, 2, 16, 30);
var sess54End = new Date(2019, 2, 2, 17, 30);

var sess55Beg = new Date(2019, 2, 2, 20, 15);
var sess55End = new Date(2019, 2, 2, 23, 10);

var sess56Beg = new Date(2019, 2, 4, 18, 30);
var sess56End = new Date(2019, 2, 5, 0, 0);

var sess57Beg = new Date(2019, 2, 5, 9, 30);
var sess57End = new Date(2019, 2, 5, 10, 45);

var sess58Beg = new Date(2019, 2, 5, 11, 00);
var sess58End = new Date(2019, 2, 5, 13, 00);

var sess59Beg = new Date(2019, 2, 5, 15, 25);
var sess59End = new Date(2019, 2, 5, 17, 15);

var sess60Beg = new Date(2019, 2, 5, 18, 15);
var sess60End = new Date(2019, 2, 5, 23, 50);

var sess61Beg = new Date(2019, 2, 6, 0, 40);
var sess61End = new Date(2019, 2, 6, 1, 0);

var sess62Beg = new Date(2019, 2, 6, 9, 30);
var sess62End = new Date(2019, 2, 6, 10, 55);

var sess63Beg = new Date(2019, 2, 6, 12, 00);
var sess63End = new Date(2019, 2, 6, 13, 40);

var sess64Beg = new Date(2019, 2, 6, 14, 15);
var sess64End = new Date(2019, 2, 6, 18, 45);

var sess65Beg = new Date(2019, 2, 6, 19, 15);
var sess65End = new Date(2019, 2, 6, 23, 20);

var sess66Beg = new Date(2019, 2, 7, 0, 00);
var sess66End = new Date(2019, 2, 7, 1, 05);

var sess67Beg = new Date(2019, 2, 7, 9, 15);
var sess67End = new Date(2019, 2, 7, 10, 00);

var sess68Beg = new Date(2019, 2, 7, 10, 20);
var sess68End = new Date(2019, 2, 7, 18, 05);

var sess69Beg = new Date(2019, 2, 7, 20, 45);
var sess69End = new Date(2019, 2, 8, 3, 00);

var sess70Beg = new Date(2019, 2, 8, 9, 45);
var sess70End = new Date(2019, 2, 8, 11, 45);

var sess71Beg = new Date(2019, 2, 8, 20, 00);
var sess71End = new Date(2019, 2, 8, 22, 40);

var sess72Beg = new Date(2019, 2, 8, 23, 40);
var sess72End = new Date(2019, 2, 9, 0, 30);

var sess73Beg = new Date(2019, 2, 9, 8, 15);
var sess73End = new Date(2019, 2, 9, 8, 45);

var sess74Beg = new Date(2019, 2, 9, 8, 50);
var sess74End = new Date(2019, 2, 9, 9, 15);

var sess75Beg = new Date(2019, 2, 9, 9, 45);
var sess75End = new Date(2019, 2, 9, 10, 00);

var sess76Beg = new Date(2019, 2, 9, 11, 55);
var sess76End = new Date(2019, 2, 9, 12, 30);

var sess77Beg = new Date(2019, 2, 10, 12, 45);
var sess77End = new Date(2019, 2, 10, 15, 30);

var sess78Beg = new Date(2019, 2, 10, 17, 45);
var sess78End = new Date(2019, 2, 10, 21, 40);

var log = [
  [sess1Beg, sess1End],
  [sess2Beg, sess2End],
  [sess3Beg, sess3End],
  [sess4Beg, sess4End],
  [sess5Beg, sess5End],
  [sess6Beg, sess6End],
  [sess7Beg, sess7End],
  [sess8Beg, sess8End],
  [sess9Beg, sess9End],
  [sess10Beg, sess10End],
  [sess11Beg, sess11End],
  [sess12Beg, sess12End],
  [sess13Beg, sess13End],
  [sess14Beg, sess14End],
  [sess15Beg, sess15End],
  [sess16Beg, sess16End],
  [sess17Beg, sess17End],
  [sess18Beg, sess18End],
  [sess19Beg, sess19End],
  [sess20Beg, sess20End],
  [sess21Beg, sess21End],
  [sess22Beg, sess22End],
  [sess23Beg, sess23End],
  [sess24Beg, sess24End],
  [sess25Beg, sess25End],
  [sess26Beg, sess26End],
  [sess27Beg, sess27End],
  [sess28Beg, sess28End],
  [sess29Beg, sess29End],
  [sess30Beg, sess30End],
  [sess31Beg, sess31End],
  [sess32Beg, sess32End],
  [sess33Beg, sess33End],
  [sess34Beg, sess34End],
  [sess35Beg, sess35End],
  [sess36Beg, sess36End],
  [sess37Beg, sess37End],
  [sess38Beg, sess38End],
  [sess39Beg, sess39End],
  [sess40Beg, sess40End],
  [sess41Beg, sess41End],
  [sess42Beg, sess42End],
  [sess43Beg, sess43End],
  [sess44Beg, sess44End],
  [sess45Beg, sess45End],
  [sess46Beg, sess46End],
  [sess47Beg, sess47End],
  [sess48Beg, sess48End],
  [sess49Beg, sess49End],
  [sess50Beg, sess50End],
  [sess51Beg, sess51End],
  [sess52Beg, sess52End],
  [sess53Beg, sess53End],
  [sess54Beg, sess54End],
  [sess55Beg, sess55End],
  [sess56Beg, sess56End],
  [sess57Beg, sess57End],
  [sess58Beg, sess58End],
  [sess59Beg, sess59End],
  [sess60Beg, sess60End],
  [sess61Beg, sess61End],
  [sess62Beg, sess62End],
  [sess63Beg, sess63End],
  [sess64Beg, sess64End],
  [sess65Beg, sess65End],
  [sess66Beg, sess66End],
  [sess67Beg, sess67End],
  [sess68Beg, sess68End],
  [sess69Beg, sess69End],
  [sess70Beg, sess70End],
  [sess71Beg, sess71End],
  [sess72Beg, sess72End],
  [sess73Beg, sess73End],
  [sess74Beg, sess74End],
  [sess75Beg, sess75End],
  [sess76Beg, sess76End],
  [sess77Beg, sess77End],
  [sess78Beg, sess78End]
];

//Calls functions to generate HTML page
function giveMeData() {
  var sessLensInMillis = calcSessLensInMillis(log);
  var totalTimeInMilis = calcTotalTimeInMillis(sessLensInMillis);
  var readableTime = calculateTime(totalTimeInMilis);
  printTable(log, sessLensInMillis);
  printReadableTotalTime(totalTimeInMilis);
}

//Calculates how long each session was given an array of Date objects
//Returns an array that contains how long each session was in milliseconds
function calcSessLensInMillis(log){
  var logSize = log.length;
  var sessLen = 0;
  var sessLenLog = [];
  for(var i = 0; i < logSize; i++) {
    sessLen = log[i][1].getTime() - log[i][0].getTime();
    sessLenLog[i] = sessLen;
  }
  return sessLenLog;
}

//Calculates the total time spent on SISP in milliseconds
//Returns the time spent on SISP in milliseconds
function calcTotalTimeInMillis(sessLenLog) {
  var totalTime = 0;
  var sessLenLogSize = sessLenLog.length;
  for(var i = 0; i < sessLenLogSize; i++) {
    totalTime += sessLenLog[i];
  }
  return totalTime;
}

//Calculates the time in hours:minutes spent on SISP given the total time spent on SISP in milliseconds
//Returns an array, the first element being the hours, the second being the minutes
function calculateTime(timeInMillis) {
  var hours = Math.floor(timeInMillis/3600000);
  var minutes = Math.floor((timeInMillis-hours*3600000)/60000);
  return [hours, minutes];
}

//Writes data to the HTML table
function printTable(log, sessLenLog) {
  var numRows = document.getElementById("logTable").rows.length;
  var sessLenLogSize = sessLenLog.length;
  for(var i = 0; i < sessLenLogSize; i++){
    var newRow = document.getElementById("logTable").insertRow(numRows + i);
    newRow.insertCell(0).innerHTML = numRows + i; //Session Number
    newRow.insertCell(1).innerHTML = printDate(log[i][0]); //Date and Time when a session began
    newRow.insertCell(2).innerHTML = printDate(log[i][1]); //Date and Time when a session ended
    var lenOfSess = calculateTime(sessLenLog[i]);
    newRow.insertCell(3).innerHTML = lessThan10(lenOfSess[0]) + " hours " + lessThan10(lenOfSess[1]) + " minutes"; //Length of session in the format: HH hours MM minutes
  }
}

//Writes the total hours and minutes spent on SISP to the HTML page in the format: HH hours MM minutes
function printReadableTotalTime(totalTimeInMilis) {
  var totTimeLen = calculateTime(totalTimeInMilis);
  document.getElementById("totalTime").innerHTML = lessThan10(totTimeLen[0]) + " hours " + lessThan10(totTimeLen[1]) + " minutes";
}

//Formats the date/time to put in the HTML page
//Returns a date/time in the format: MM/DD/YYYY HH:MM AM/PM
function printDate(aDate) {
  var month = lessThan10(aDate.getMonth() + 1);
  var date = lessThan10(aDate.getDate());
  var year = aDate.getFullYear().toString();
  var hour = aDate.getHours();
  //12 AM
  if(hour === 0) {
    hour = 12;
    var ampm = "AM";
  }
  //1-11 AM
  else if(hour < 12) {
    var ampm = "AM";
  }
  //12 PM
  else if(hour === 12) {
    var ampm = "PM";
  }
  //1-11 PM
  else {
    hour -= 12;
    var ampm = "PM";
  }
  hour = lessThan10(hour);
  var minute = lessThan10(aDate.getMinutes());

  return month + "/" + date + "/" + year + " " + hour + ":" + minute + " " + ampm;
}

//checks if the number is less than 10
//Returns the number with a 0 in front of it if it's less than 10
function lessThan10(num) {
  if(num < 10) {
    return "0" + num.toString();
  } else {
    return num.toString();
  }
}
